
### **Zenith 极简团队协作系统**

#### **1. 产品愿景与核心理念**

**产品愿景**：为追求高效、简洁并重视数据主权的小微团队，提供一个“开箱即用”且“恰到好处”的协作解决方案，让工具回归其本质——服务于人，而非流程。

**核心理念**:

*   **反臃肿 (Anti-Bloat)**: 只包含团队协作最核心的功能，不做任何不必要的加法。
*   **数据主权 (Data Sovereignty)**: 采用“官方托管前端 + 用户自托管后端”模式，让用户对自己的核心数据拥有 100% 的控制权。
*   **无感体验 (Effortless UX)**: 设计必须极度简洁、响应迅速、交互直观，让用户能专注于工作本身。

#### **2. 目标用户**

我们的核心服务对象是：**由技术人员组成或领导的、极其重视数据隐私和自主权、并且极度厌恶当前主流工具臃肿复杂性的 3-15 人团队。**

*   **典型场景**: 软件开发工作室、设计师团队、安全研究小组、技术咨询公司、对数据敏感的初创企业。

#### **3. 核心功能模块 (MVP)**

**模块一：团队与 onboarding 核心**

*   **登录流程 (无注册)**:
    1.  应用首页展示一个由后端生成的、有生命周期的二维码。
    2.  用户通过指定的扫码服务（微信）进行扫码认证。
    3.  认证成功后，前端获取一次性凭证并向后端换取正式的访问令牌 (JWT)。

*   **用户状态与审批流**:
    1.  **未验证用户**: 首次登录后，用户状态为“未验证”。系统仅允许其访问个人资料填写页面。
    2.  **待审批用户**: 用户提交个人资料（姓名、职位等）后，状态变为“待审批”。
    3.  **管理员审批**: 团队管理员会收到通知，并可在专门的页面“批准”或“拒绝”新成员的加入申请。
    4.  **已激活用户**: 被批准后，用户状态变为“已激活”，可以使用系统授权的全部功能。

*   **轻量化合同管理**:
    1.  管理员可以为团队成员记录并编辑“入职日期”和“合同到期日”。
    2.  系统提供一个专门的查询接口，让前端能够获取即将到期的合同列表。
    3.  前端在管理员登录后，主动调用此接口，并在界面上通过通知、角标等形式，对即将到期的合同进行醒目提醒。

**模块二：三级任务系统**

*   **核心结构**: **`项目` -> `任务` -> `子任务`**。这是一个清晰且足够满足小团队任务拆解需求的层级结构。

*   **项目成员与权限**:
    1.  每个项目都拥有一个独立的**成员列表**。
    2.  项目的创建者默认为该项目的**管理员**，拥有管理项目和成员的最高权限。
    3.  项目管理员可以邀请团队中的任何“已激活”成员加入该项目，并可将其设为“项目成员”，管理员可以更改项目成员的身份。
    4.  权限隔离是此模块的核心：**用户只能看到自己参与的项目及其中的所有任务**。

*   **任务的访问控制**:
    *   **公开任务**: 在一个特殊的“团队公告板”项目中创建，团队所有成员均可见。
    *   **项目任务**: 在某个具体项目中创建，仅该项目的成员可见。这是最常用的级别。
    *   **私有任务**: 仅任务的创建者和被指派者可见，可用于个人待办或敏感的1对1沟通。

*   **任务的核心操作**:
    *   创建、编辑、归档项目/任务/子任务。
    *   管理任务状态（如：待办、进行中、已完成），支持拖拽操作。
    *   在项目成员内灵活指派任务。

**模块三：Markdown 原生日记与评论系统**

*   **Markdown 优先**:
    *   **内容存储**: 所有日记正文、任务描述、评论等长文本内容，在数据库中**以纯 Markdown 格式存储**。
    *   **编辑体验**: 提供一个支持实时预览的、简洁的 Markdown 编辑器。
    *   **内容渲染**: 前端负责将存储的 Markdown 文本解析并优雅地渲染为格式化内容。

*   **可见性控制**:
    *   **公开**: 团队所有成员可见。
    *   **项目公开**: 可选择分享给一个或多个自己参与的项目的全体成员。
    *   **指定成员**: 仅分享给一个或多个指定的团队成员。
    *   **私有**: 默认选项，仅自己可见。

*   **互动**: 能看到日记的成员可以进行评论，评论同样支持 Markdown 格式。

#### **4. 整体架构模式**

*   **前后端分离**: 前端与后端是两个独立的项目，通过定义好的 API 规范进行通信。
*   **前端**:
    *   **技术栈**: React + Ant Design。
*   **后端**:
    *   **技术栈**: Python + FastAPI + SQLite。
*   **初始化流程**:
    1.  用户首次访问官方前端网址时，应用会引导用户输入其已部署好的后端服务 API 地址。
    2.  前端验证该地址有效后，会将其保存在浏览器的本地存储中。
    3.  此后，该浏览器上的所有操作都将自动与用户自己的后端服务进行通信。
