# Zenith åç«¯

**Zenith æ˜¯ä¸€ä¸ªä¸ºå°å¾®å›¢é˜Ÿæ‰“é€ çš„ã€æç®€ä¸”æ•°æ®ç§æœ‰çš„å¼€æºåä½œç³»ç»Ÿã€‚**

åç«¯æœåŠ¡ç”±æ‚¨è‡ªå·±åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ï¼Œæ‰€æœ‰ä»»åŠ¡ã€æ—¥è®°ã€æ–‡ä»¶ç­‰æ ¸å¿ƒæ•°æ®éƒ½æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ã€‚

---

## âœ¨ æ ¸å¿ƒç†å¿µ

åœ¨å½“ä»Šå……æ»¡"å·¥å…·è¿‡è½½"å’Œ"é…ç½®ç–²åŠ³"çš„æ—¶ä»£ï¼ŒZenith ä¸ºè¿½æ±‚é«˜æ•ˆã€ç®€æ´å¹¶é‡è§†æ•°æ®ä¸»æƒçš„å°å¾®å›¢é˜Ÿè€Œç”Ÿã€‚æˆ‘ä»¬åšä¿¡ï¼Œå·¥å…·åº”å½“å›å½’å…¶æœ¬è´¨â€”â€”å®‰é™åœ°æœåŠ¡äºäººï¼Œè€Œéè®©äººé™·å…¥å¤æ‚çš„æµç¨‹ã€‚

Zenith ç æ‰äº†æ‰€æœ‰ä¸å¿…è¦çš„è‡ƒè‚¿åŠŸèƒ½ï¼Œåªä¿ç•™äº†å›¢é˜Ÿåä½œæœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é€šè¿‡ç‹¬ç‰¹çš„æ¶æ„ï¼Œè®©æ‚¨å¯¹è‡ªå·±çš„æ ¸å¿ƒæ•°æ®æ‹¥æœ‰ 100% çš„æ§åˆ¶æƒã€‚

## ğŸ›ï¸ ç³»ç»Ÿæ¶æ„

Zenith é‡‡ç”¨åˆ›æ–°çš„ **"å®˜æ–¹æ‰˜ç®¡å‰ç«¯ + ç”¨æˆ·è‡ªæ‰˜ç®¡åç«¯"** æ¨¡å¼ã€‚æ‚¨åªéœ€è¦å°†åç«¯çš„åº”ç”¨ç¨‹åºåœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šè¿è¡Œèµ·æ¥ã€‚å‰ç«¯é€šè¿‡æ‚¨é…ç½®çš„ API åœ°å€ä¸æ‚¨çš„åç«¯è¿›è¡Œé€šä¿¡ã€‚

```
+--------------+      +-------------------------+      +-------------------------+
| ç”¨æˆ·æµè§ˆå™¨    |  ->  |  å®˜æ–¹å‰ç«¯ (Zenith App)  |  <-> |  æ‚¨è‡ªå·±çš„åç«¯ API æœåŠ¡   |
| (Your Browser) |      | (app.zenith-collab.com) |      | (api.your-company.com)  |
+--------------+      +-------------------------+      +-------------------------+
```

**åç«¯æŠ€æœ¯æ ˆ**: Python, FastAPI, SQLAlchemy, SQLite

## ğŸ“ é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€â”€ api/                    # APIå±‚
â”‚   â”œâ”€â”€ main.py            # FastAPIåº”ç”¨ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ routers/           # è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ auth.py        # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ users.py       # ç”¨æˆ·ç®¡ç†è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ projects.py    # é¡¹ç›®ç®¡ç†è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ tasks.py       # ä»»åŠ¡ç®¡ç†è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ diaries.py     # æ—¥è®°ç®¡ç†è·¯ç”±
â”‚   â”‚   â””â”€â”€ comments.py    # è¯„è®ºç®¡ç†è·¯ç”±
â”‚   â””â”€â”€ schemas/           # Pydanticæ¨¡å‹
â”‚       â”œâ”€â”€ response.py    # ç»Ÿä¸€å“åº”æ¨¡å‹
â”‚       â”œâ”€â”€ user.py        # ç”¨æˆ·ç›¸å…³æ¨¡å‹
â”‚       â”œâ”€â”€ project.py     # é¡¹ç›®ç›¸å…³æ¨¡å‹
â”‚       â”œâ”€â”€ task.py        # ä»»åŠ¡ç›¸å…³æ¨¡å‹
â”‚       â”œâ”€â”€ diary.py       # æ—¥è®°ç›¸å…³æ¨¡å‹
â”‚       â””â”€â”€ comment.py     # è¯„è®ºç›¸å…³æ¨¡å‹
â”œâ”€â”€ database/              # æ•°æ®åº“å±‚
â”‚   â”œâ”€â”€ base.py           # åŸºç¡€æ¨¡å‹
â”‚   â””â”€â”€ database.py       # æ•°æ®åº“è¿æ¥
â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ user.py          # ç”¨æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ project.py       # é¡¹ç›®æ¨¡å‹
â”‚   â”œâ”€â”€ task.py          # ä»»åŠ¡æ¨¡å‹
â”‚   â”œâ”€â”€ diary.py         # æ—¥è®°æ¨¡å‹
â”‚   â”œâ”€â”€ comment.py       # è¯„è®ºæ¨¡å‹
â”‚   â””â”€â”€ project_membership.py # é¡¹ç›®æˆå‘˜å…³ç³»æ¨¡å‹
â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ auth_service.py  # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ user_service.py  # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ project_service.py # é¡¹ç›®æœåŠ¡
â”‚   â”œâ”€â”€ task_service.py  # ä»»åŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ diary_service.py # æ—¥è®°æœåŠ¡
â”‚   â””â”€â”€ comment_service.py # è¯„è®ºæœåŠ¡
â”œâ”€â”€ config.py            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ main.py              # åº”ç”¨å…¥å£
â”œâ”€â”€ pyproject.toml       # é¡¹ç›®é…ç½®
â”œâ”€â”€ start.sh             # å¯åŠ¨è„šæœ¬
â””â”€â”€ env.example          # ç¯å¢ƒå˜é‡ç¤ºä¾‹
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

**å…ˆå†³æ¡ä»¶**:
*   æœåŠ¡å™¨å·²å®‰è£… Python 3.11+
*   å·²å®‰è£… uv (ç°ä»£PythonåŒ…ç®¡ç†å™¨)

**å®‰è£… uv**:
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

### 2. éƒ¨ç½²åç«¯

```bash
# 1. å…‹éš†é¡¹ç›®ä»“åº“
git clone https://github.com/your-username/zenith.git
cd zenith/backend

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®

# 3. å®‰è£…é¡¹ç›®ä¾èµ–
uv sync

# 4. å¯åŠ¨æœåŠ¡
uv run uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

æˆ–è€…ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼š
```bash
chmod +x start.sh
./start.sh
```

### 3. è®¿é—®APIæ–‡æ¡£

å¯åŠ¨æœåŠ¡åï¼Œå¯ä»¥è®¿é—®ä»¥ä¸‹åœ°å€æŸ¥çœ‹APIæ–‡æ¡£ï¼š
- Swagger UI: http://localhost:8000/api/docs
- ReDoc: http://localhost:8000/api/redoc
- OpenAPI JSON: http://localhost:8000/api/openapi.json

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ä¾èµ–ç®¡ç†

ä½¿ç”¨ `uv` è¿›è¡Œä¾èµ–ç®¡ç†ï¼š
```bash
# å®‰è£…ä¾èµ–
uv sync

# æ·»åŠ æ–°ä¾èµ–
uv add package-name

# æ·»åŠ å¼€å‘ä¾èµ–
uv add --dev package-name
```

### æ•°æ®åº“è¿ç§»

ä½¿ç”¨ Alembic è¿›è¡Œæ•°æ®åº“è¿ç§»ï¼š
```bash
# åˆå§‹åŒ–è¿ç§»
alembic init migrations

# åˆ›å»ºè¿ç§»æ–‡ä»¶
alembic revision --autogenerate -m "æè¿°"

# æ‰§è¡Œè¿ç§»
alembic upgrade head




## ğŸ“‹ æ‚¨å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤

1. **æ ‡è®°å½“å‰ç‰ˆæœ¬**ï¼ˆå¦‚æœé‡åˆ°çŠ¶æ€ä¸ä¸€è‡´ï¼‰ï¼š
   ```cmd
   alembic stamp head
   ```

2. **ç”Ÿæˆè¿ç§»æ–‡ä»¶**ï¼š
   ```cmd
   alembic revision --autogenerate -m "æè¿°"
   ```

3. **æ‰§è¡Œè¿ç§»**ï¼š
   ```cmd
   alembic upgrade head
   ```

4. **éªŒè¯è¡¨åˆ›å»º**ï¼š
   ```cmd
   python check_db.py
   ```

ç°åœ¨æ‚¨å¯ä»¥å¼€å§‹è‡ªå·±çš„è¿ç§»æ“ä½œäº†ï¼ğŸ‰


```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ Black è¿›è¡Œä»£ç æ ¼å¼åŒ–
- ä½¿ç”¨ isort è¿›è¡Œå¯¼å…¥æ’åº
- ä½¿ç”¨ flake8 è¿›è¡Œä»£ç æ£€æŸ¥

## ğŸ“‹ APIæ¥å£

### è®¤è¯ç›¸å…³
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/qr-code` - ç”Ÿæˆç™»å½•äºŒç»´ç 
- `POST /api/auth/qr-code/verify` - éªŒè¯äºŒç»´ç 
- `POST /api/auth/refresh` - åˆ·æ–°è®¿é—®ä»¤ç‰Œ

### ç”¨æˆ·ç®¡ç†
- `GET /api/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/users/me` - æ›´æ–°å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /api/users/` - è·å–ç”¨æˆ·åˆ—è¡¨
- `POST /api/users/approve/{user_id}` - å®¡æ‰¹ç”¨æˆ·
- `GET /api/users/contract-reminders` - è·å–åˆåŒåˆ°æœŸæé†’

### é¡¹ç›®ç®¡ç†
- `POST /api/projects/` - åˆ›å»ºé¡¹ç›®
- `GET /api/projects/` - è·å–é¡¹ç›®åˆ—è¡¨
- `GET /api/projects/{project_id}` - è·å–é¡¹ç›®è¯¦æƒ…
- `PUT /api/projects/{project_id}` - æ›´æ–°é¡¹ç›®
- `DELETE /api/projects/{project_id}` - åˆ é™¤é¡¹ç›®

### ä»»åŠ¡ç®¡ç†
- `POST /api/tasks/` - åˆ›å»ºä»»åŠ¡
- `GET /api/tasks/` - è·å–ä»»åŠ¡åˆ—è¡¨
- `GET /api/tasks/{task_id}` - è·å–ä»»åŠ¡è¯¦æƒ…
- `PUT /api/tasks/{task_id}` - æ›´æ–°ä»»åŠ¡
- `DELETE /api/tasks/{task_id}` - åˆ é™¤ä»»åŠ¡

### æ—¥è®°ç®¡ç†
- `POST /api/diaries/` - åˆ›å»ºæ—¥è®°
- `GET /api/diaries/` - è·å–æ—¥è®°åˆ—è¡¨
- `GET /api/diaries/{diary_id}` - è·å–æ—¥è®°è¯¦æƒ…
- `PUT /api/diaries/{diary_id}` - æ›´æ–°æ—¥è®°
- `DELETE /api/diaries/{diary_id}` - åˆ é™¤æ—¥è®°

### è¯„è®ºç®¡ç†
- `POST /api/comments/` - åˆ›å»ºè¯„è®º
- `GET /api/comments/` - è·å–è¯„è®ºåˆ—è¡¨
- `GET /api/comments/{comment_id}` - è·å–è¯„è®ºè¯¦æƒ…
- `PUT /api/comments/{comment_id}` - æ›´æ–°è¯„è®º
- `DELETE /api/comments/{comment_id}` - åˆ é™¤è¯„è®º

## ğŸ”’ å®‰å…¨å»ºè®®

1. **HTTPS**: å¼ºçƒˆå»ºè®®ä½¿ç”¨ Nginx æˆ– Caddy ç­‰åå‘ä»£ç†å·¥å…·ï¼Œä¸ºæ‚¨çš„åç«¯ API æœåŠ¡å¯ç”¨ HTTPS
2. **ç¯å¢ƒå˜é‡**: ç”Ÿäº§ç¯å¢ƒä¸­è¯·ä¿®æ”¹ `SECRET_KEY` ç­‰æ•æ„Ÿé…ç½®
3. **æ•°æ®åº“**: ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ PostgreSQL æˆ– MySQL æ›¿ä»£ SQLite
4. **é˜²ç«å¢™**: é…ç½®é€‚å½“çš„é˜²ç«å¢™è§„åˆ™ï¼Œåªå¼€æ”¾å¿…è¦çš„ç«¯å£

## ğŸ¤ è´¡çŒ®

æœ‰ä»»ä½•é—®é¢˜æˆ–æƒ³æ³•ï¼Ÿæ¬¢è¿æäº¤ [Issue](<!-- Add your issues link here -->)ï¼

å¦‚æœä½ å¸Œæœ›è´¡çŒ®ä»£ç ï¼Œè¯·éµå¾ªä»¥ä¸‹æµç¨‹ï¼š
1.  Fork æœ¬é¡¹ç›®
2.  åˆ›å»ºä½ çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3.  æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4.  å°†åˆ†æ”¯æ¨é€åˆ°ä½ çš„ Fork (`git push origin feature/AmazingFeature`)
5.  æäº¤ä¸€ä¸ª Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT](./LICENSE) è®¸å¯è¯ã€‚
